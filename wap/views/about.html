<!-- Start module 01 area: 橘子情感  -->
<div class="module module-01">
  <div class="main">

  </div>
</div>
<!-- Start module 01 area: 橘子情感  -->

<!-- Start module 02 area: 橘子情感  -->
<div class="module module-02">
  <div class="main">

  </div>
</div>
<!-- Start module 02 area: 橘子情感  -->

<!-- Start module 03 area: 橘子情感  -->
<div class="module module-03">
  <div class="main">

  </div>
</div>
<!-- Start module 03 area: 橘子情感  -->

<!-- Start module 04 area: 橘子情感  -->
<div class="module module-04">
  <div class="main">

  </div>
</div>
<!-- Start module 04 area: 橘子情感  -->

<!-- Start module 05 area: 橘子情感  -->
<div class="module module-05">
  <div class="main">

  </div>
</div>
<!-- Start module 05 area: 橘子情感  -->

<!-- Start module 06 area: 橘子情感  -->
<div class="module module-06">
  <div class="main">

  </div>
</div>
<!-- Start module 06 area: 橘子情感  -->

<!-- Start module 07 area: 橘子情感  -->
<div class="module module-07">
  <div class="main">
    <div class="bg"></div>
  </div>
</div>
<!-- Start module 07 area: 橘子情感  -->

<script type="text/javascript">

// 动态更换头图图片
var changePrefaceImg = $(function (){
  var prefaceImg = $(".preface .banner-img img");
  prefaceImg.attr("src", "images/about/preface.png");
}());

$(document).ready(function (){

  // 初始化模块标题
  var insertModuleTitle = $(function (){
    // 请求模块标题模板
    $(function () {
      $.ajax({
        type: "get",
        url: "components/module-title/module-title.html",
        success: function (dataHTML) {
          // 插入模板到页面
          $(".module").prepend(dataHTML);
        },
        error: function (error) {
          alert("request error");
        }
      });
    }());

    // 请求模块模块标题数据
    $(function () {
      $.ajax({
        type: "get",
        url: "data/module-title.json",
        success: function (data) {
          insertModuleTitle(data);
        },
        error: function (error) {
          alert("requests error");
        }
      });
    }());

    // 插入模块标题
    function insertModuleTitle(data) {
      // 动态渲染模板标题
      var moduleTitle = $(".module .title .module-title");
      var i = 0;
      for (var title in data.page["custom-love"]) {
        $($(".module")[i]).find(".title .module-title").html(data.page["custom-love"][title]);
        i++;
      }
    }

  }());

});

</script>
